(function(v,b,i,e){"use strict";var s={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:false,closable:true,loop:true,escKey:true,keyPress:true,controls:true,slideEndAnimatoin:true,hideControlOnEnd:false,mousewheel:true,getCaptionFromTitleOrAlt:true,appendSubHtmlTo:".lg-sub-html",preload:1,showAfterLoad:true,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:false,iframeMaxWidth:"100%",download:true,counter:true,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:true,enableDrag:true,dynamic:false,dynamicEl:[],galleryId:1};function t(e,t){this.el=e;this.$el=v(e);this.s=v.extend({},s,t);if(this.s.dynamic&&this.s.dynamicEl!=="undefined"&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length){throw"When using dynamic mode, you must also define dynamicEl as an Array."}this.modules={};this.lGalleryOn=false;this.lgBusy=false;this.hideBartimeout=false;this.isTouch="ontouchstart"in i.documentElement;if(this.s.slideEndAnimatoin){this.s.hideControlOnEnd=false}if(this.s.dynamic){this.$items=this.s.dynamicEl}else{if(this.s.selector==="this"){this.$items=this.$el}else if(this.s.selector!==""){if(this.s.selectWithin){this.$items=v(this.s.selectWithin).find(this.s.selector)}else{this.$items=this.$el.find(v(this.s.selector))}}else{this.$items=this.$el.children()}}this.$slide="";this.$outer="";this.init();return this}t.prototype.init=function(){var e=this;if(e.s.preload>e.$items.length){e.s.preload=e.$items.length}var t=b.location.hash;if(t.indexOf("lg="+this.s.galleryId)>0){e.index=parseInt(t.split("&slide=")[1],10);v("body").addClass("lg-from-hash");if(!v("body").hasClass("lg-on")){setTimeout(function(){e.build(e.index);v("body").addClass("lg-on")})}}if(e.s.dynamic){e.$el.trigger("onBeforeOpen.lg");e.index=e.s.index||0;if(!v("body").hasClass("lg-on")){setTimeout(function(){e.build(e.index);v("body").addClass("lg-on")})}}else{e.$items.on("click.lgcustom",function(t){try{t.preventDefault();t.preventDefault()}catch(e){t.returnValue=false}e.$el.trigger("onBeforeOpen.lg");e.index=e.s.index||e.$items.index(this);if(!v("body").hasClass("lg-on")){e.build(e.index);v("body").addClass("lg-on")}})}};t.prototype.build=function(e){var t=this;t.structure();v.each(v.fn.lightGallery.modules,function(e){t.modules[e]=new v.fn.lightGallery.modules[e](t.el)});t.slide(e,false,false);if(t.s.keyPress){t.keyPress()}if(t.$items.length>1){t.arrow();setTimeout(function(){t.enableDrag();t.enableSwipe()},50);if(t.s.mousewheel){t.mousewheel()}}t.counter();t.closeGallery();t.$el.trigger("onAfterOpen.lg");t.$outer.on("mousemove.lg click.lg touchstart.lg",function(){t.$outer.removeClass("lg-hide-items");clearTimeout(t.hideBartimeout);t.hideBartimeout=setTimeout(function(){t.$outer.addClass("lg-hide-items")},t.s.hideBarsDelay)})};t.prototype.structure=function(){var e="";var t="";var s=0;var i="";var o;var l=this;v("body").append('<div class="lg-backdrop"></div>');v(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms");for(s=0;s<this.$items.length;s++){e+='<div class="lg-item"></div>'}if(this.s.controls&&this.$items.length>1){t='<div class="lg-actions">'+'<div class="lg-prev lg-icon">'+this.s.prevHtml+"</div>"+'<div class="lg-next lg-icon">'+this.s.nextHtml+"</div>"+"</div>"}if(this.s.appendSubHtmlTo===".lg-sub-html"){i='<div class="lg-sub-html"></div>'}o='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'">'+'<div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'">'+'<div class="lg-inner">'+e+"</div>"+'<div class="lg-toolbar group">'+'<span class="lg-close lg-icon"></span>'+"</div>"+t+i+"</div>"+"</div>";v("body").append(o);this.$outer=v(".lg-outer");this.$slide=this.$outer.find(".lg-item");if(this.s.useLeft){this.$outer.addClass("lg-use-left");this.s.mode="lg-slide"}else{this.$outer.addClass("lg-use-css3")}l.setTop();v(b).on("resize.lg orientationchange.lg",function(){setTimeout(function(){l.setTop()},100)});this.$slide.eq(this.index).addClass("lg-current");if(this.doCss()){this.$outer.addClass("lg-css3")}else{this.$outer.addClass("lg-css");this.s.speed=0}this.$outer.addClass(this.s.mode);if(this.s.enableDrag&&this.$items.length>1){this.$outer.addClass("lg-grab")}if(this.s.showAfterLoad){this.$outer.addClass("lg-show-after-load")}if(this.doCss()){var r=this.$outer.find(".lg-inner");r.css("transition-timing-function",this.s.cssEasing);r.css("transition-duration",this.s.speed+"ms")}v(".lg-backdrop").addClass("in");setTimeout(function(){l.$outer.addClass("lg-visible")},this.s.backdropDuration);if(this.s.download){this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>')}this.prevScrollTop=v(b).scrollTop()};t.prototype.setTop=function(){if(this.s.height!=="100%"){var e=v(b).height();var t=(e-parseInt(this.s.height,10))/2;var s=this.$outer.find(".lg");if(e>=parseInt(this.s.height,10)){s.css("top",t+"px")}else{s.css("top","0px")}}};t.prototype.doCss=function(){var e=function(){var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"];var t=i.documentElement;var s=0;for(s=0;s<e.length;s++){if(e[s]in t.style){return true}}};if(e()){return true}return false};t.prototype.isVideo=function(e,t){var s;if(this.s.dynamic){s=this.s.dynamicEl[t].html}else{s=this.$items.eq(t).attr("data-html")}if(!e&&s){return{html5:true}}var i=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i);var o=e.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i);var l=e.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i);var r=e.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);if(i){return{youtube:i}}else if(o){return{vimeo:o}}else if(l){return{dailymotion:l}}else if(r){return{vk:r}}};t.prototype.counter=function(){if(this.s.counter){v(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")}};t.prototype.addHtml=function(e){var t=null;var s;if(this.s.dynamic){if(this.s.dynamicEl[e].subHtmlUrl){s=this.s.dynamicEl[e].subHtmlUrl}else{t=this.s.dynamicEl[e].subHtml}}else{if(this.$items.eq(e).attr("data-sub-html-url")){s=this.$items.eq(e).attr("data-sub-html-url")}else{t=this.$items.eq(e).attr("data-sub-html");if(this.s.getCaptionFromTitleOrAlt&&!t){t=this.$items.eq(e).attr("title")||this.$items.eq(e).find("img").first().attr("alt")}}}if(!s){if(typeof t!=="undefined"&&t!==null){var i=t.substring(0,1);if(i==="."||i==="#"){t=v(t).html()}}else{t=""}}if(this.s.appendSubHtmlTo===".lg-sub-html"){if(s){this.$outer.find(this.s.appendSubHtmlTo).load(s)}else{this.$outer.find(this.s.appendSubHtmlTo).html(t)}}else{if(s){this.$slide.eq(e).load(s)}else{this.$slide.eq(e).append(t)}}if(typeof t!=="undefined"&&t!==null){if(t===""){this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html")}else{this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")}}this.$el.trigger("onAfterAppendSubHtml.lg",[e])};t.prototype.preload=function(e){var t=1;var s=1;for(t=1;t<=this.s.preload;t++){if(t>=this.$items.length-e){break}this.loadContent(e+t,false,0)}for(s=1;s<=this.s.preload;s++){if(e-s<0){break}this.loadContent(e-s,false,0)}};t.prototype.loadContent=function(t,e,s){var i=this;var o=false;var l;var a;var r;var n;var d;var u;var c=function(e){var t=[];var s=[];for(var i=0;i<e.length;i++){var o=e[i].split(" ");if(o[0]===""){o.splice(0,1)}s.push(o[0]);t.push(o[1])}var l=v(b).width();for(var r=0;r<t.length;r++){if(parseInt(t[r],10)>l){a=s[r];break}}};if(i.s.dynamic){if(i.s.dynamicEl[t].poster){o=true;r=i.s.dynamicEl[t].poster}u=i.s.dynamicEl[t].html;a=i.s.dynamicEl[t].src;if(i.s.dynamicEl[t].responsive){var h=i.s.dynamicEl[t].responsive.split(",");c(h)}n=i.s.dynamicEl[t].srcset;d=i.s.dynamicEl[t].sizes}else{if(i.$items.eq(t).attr("data-poster")){o=true;r=i.$items.eq(t).attr("data-poster")}u=i.$items.eq(t).attr("data-html");a=i.$items.eq(t).attr("href")||i.$items.eq(t).attr("data-src");if(i.$items.eq(t).attr("data-responsive")){var g=i.$items.eq(t).attr("data-responsive").split(",");c(g)}n=i.$items.eq(t).attr("data-srcset");d=i.$items.eq(t).attr("data-sizes")}var f=false;if(i.s.dynamic){if(i.s.dynamicEl[t].iframe){f=true}}else{if(i.$items.eq(t).attr("data-iframe")==="true"){f=true}}var m=i.isVideo(a,t);if(!i.$slide.eq(t).hasClass("lg-loaded")){if(f){i.$slide.eq(t).prepend('<div class="lg-video-cont" style="max-width:'+i.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+a+'"  allowfullscreen="true"></iframe></div></div>')}else if(o){var p="";if(m&&m.youtube){p="lg-has-youtube"}else if(m&&m.vimeo){p="lg-has-vimeo"}else{p="lg-has-html5"}i.$slide.eq(t).prepend('<div class="lg-video-cont '+p+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+r+'" /></div></div>')}else if(m){i.$slide.eq(t).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>');i.$el.trigger("hasVideo.lg",[t,a,u])}else{i.$slide.eq(t).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+a+'" /></div>')}i.$el.trigger("onAferAppendSlide.lg",[t]);l=i.$slide.eq(t).find(".lg-object");if(d){l.attr("sizes",d)}if(n){l.attr("srcset",n);try{picturefill({elements:[l[0]]})}catch(e){console.error("Make sure you have included Picturefill version 2")}}if(this.s.appendSubHtmlTo!==".lg-sub-html"){i.addHtml(t)}i.$slide.eq(t).addClass("lg-loaded")}i.$slide.eq(t).find(".lg-object").on("load.lg error.lg",function(){var e=0;if(s&&!v("body").hasClass("lg-from-hash")){e=s}setTimeout(function(){i.$slide.eq(t).addClass("lg-complete");i.$el.trigger("onSlideItemLoad.lg",[t,s||0])},e)});if(m&&m.html5&&!o){i.$slide.eq(t).addClass("lg-complete")}if(e===true){if(!i.$slide.eq(t).hasClass("lg-complete")){i.$slide.eq(t).find(".lg-object").on("load.lg error.lg",function(){i.preload(t)})}else{i.preload(t)}}};t.prototype.slide=function(e,t,s){var i=this.$outer.find(".lg-current").index();var o=this;if(o.lGalleryOn&&i===e){return}var l=this.$slide.length;var r=o.lGalleryOn?this.s.speed:0;var a=false;var n=false;if(!o.lgBusy){if(this.s.download){var d;if(o.s.dynamic){d=o.s.dynamicEl[e].downloadUrl!==false&&(o.s.dynamicEl[e].downloadUrl||o.s.dynamicEl[e].src)}else{d=o.$items.eq(e).attr("data-download-url")!=="false"&&(o.$items.eq(e).attr("data-download-url")||o.$items.eq(e).attr("href")||o.$items.eq(e).attr("data-src"))}if(d){v("#lg-download").attr("href",d);o.$outer.removeClass("lg-hide-download")}else{o.$outer.addClass("lg-hide-download")}}this.$el.trigger("onBeforeSlide.lg",[i,e,t,s]);o.lgBusy=true;clearTimeout(o.hideBartimeout);if(this.s.appendSubHtmlTo===".lg-sub-html"){setTimeout(function(){o.addHtml(e)},r)}this.arrowDisable(e);if(!t){o.$outer.addClass("lg-no-trans");this.$slide.removeClass("lg-prev-slide lg-next-slide");if(e<i){n=true;if(e===0&&i===l-1&&!s){n=false;a=true}}else if(e>i){a=true;if(e===l-1&&i===0&&!s){n=true;a=false}}if(n){this.$slide.eq(e).addClass("lg-prev-slide");this.$slide.eq(i).addClass("lg-next-slide")}else if(a){this.$slide.eq(e).addClass("lg-next-slide");this.$slide.eq(i).addClass("lg-prev-slide")}setTimeout(function(){o.$slide.removeClass("lg-current");o.$slide.eq(e).addClass("lg-current");o.$outer.removeClass("lg-no-trans")},50)}else{var u=e-1;var c=e+1;if(e===0&&i===l-1){c=0;u=l-1}else if(e===l-1&&i===0){c=0;u=l-1}this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide");o.$slide.eq(u).addClass("lg-prev-slide");o.$slide.eq(c).addClass("lg-next-slide");o.$slide.eq(e).addClass("lg-current")}if(o.lGalleryOn){setTimeout(function(){o.loadContent(e,true,0)},this.s.speed+50);setTimeout(function(){o.lgBusy=false;o.$el.trigger("onAfterSlide.lg",[i,e,t,s])},this.s.speed)}else{o.loadContent(e,true,o.s.backdropDuration);o.lgBusy=false;o.$el.trigger("onAfterSlide.lg",[i,e,t,s])}o.lGalleryOn=true;if(this.s.counter){v("#lg-counter-current").text(e+1)}}};t.prototype.goToNextSlide=function(e){var t=this;if(!t.lgBusy){if(t.index+1<t.$slide.length){t.index++;t.$el.trigger("onBeforeNextSlide.lg",[t.index]);t.slide(t.index,e,false)}else{if(t.s.loop){t.index=0;t.$el.trigger("onBeforeNextSlide.lg",[t.index]);t.slide(t.index,e,false)}else if(t.s.slideEndAnimatoin){t.$outer.addClass("lg-right-end");setTimeout(function(){t.$outer.removeClass("lg-right-end")},400)}}}};t.prototype.goToPrevSlide=function(e){var t=this;if(!t.lgBusy){if(t.index>0){t.index--;t.$el.trigger("onBeforePrevSlide.lg",[t.index,e]);t.slide(t.index,e,false)}else{if(t.s.loop){t.index=t.$items.length-1;t.$el.trigger("onBeforePrevSlide.lg",[t.index,e]);t.slide(t.index,e,false)}else if(t.s.slideEndAnimatoin){t.$outer.addClass("lg-left-end");setTimeout(function(){t.$outer.removeClass("lg-left-end")},400)}}}};t.prototype.keyPress=function(){var t=this;if(this.$items.length>1){v(b).on("keyup.lg",function(e){if(t.$items.length>1){if(e.keyCode===37){e.preventDefault();t.goToPrevSlide()}if(e.keyCode===39){e.preventDefault();t.goToNextSlide()}}})}v(b).on("keydown.lg",function(e){if(t.s.escKey===true&&e.keyCode===27){e.preventDefault();if(!t.$outer.hasClass("lg-thumb-open")){t.destroy()}else{t.$outer.removeClass("lg-thumb-open")}}})};t.prototype.arrow=function(){var e=this;this.$outer.find(".lg-prev").on("click.lg",function(){e.goToPrevSlide()});this.$outer.find(".lg-next").on("click.lg",function(){e.goToNextSlide()})};t.prototype.arrowDisable=function(e){if(!this.s.loop&&this.s.hideControlOnEnd){if(e+1<this.$slide.length){this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled")}else{this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled")}if(e>0){this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled")}else{this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled")}}};t.prototype.setTranslate=function(e,t,s){if(this.s.useLeft){e.css("left",t)}else{e.css({transform:"translate3d("+t+"px, "+s+"px, 0px)"})}};t.prototype.touchMove=function(e,t){var s=t-e;if(Math.abs(s)>15){this.$outer.addClass("lg-dragging");this.setTranslate(this.$slide.eq(this.index),s,0);this.setTranslate(v(".lg-prev-slide"),-this.$slide.eq(this.index).width()+s,0);this.setTranslate(v(".lg-next-slide"),this.$slide.eq(this.index).width()+s,0)}};t.prototype.touchEnd=function(e){var t=this;if(t.s.mode!=="lg-slide"){t.$outer.addClass("lg-slide")}this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0");setTimeout(function(){t.$outer.removeClass("lg-dragging");if(e<0&&Math.abs(e)>t.s.swipeThreshold){t.goToNextSlide(true)}else if(e>0&&Math.abs(e)>t.s.swipeThreshold){t.goToPrevSlide(true)}else if(Math.abs(e)<5){t.$el.trigger("onSlideClick.lg")}t.$slide.removeAttr("style")});setTimeout(function(){if(!t.$outer.hasClass("lg-dragging")&&t.s.mode!=="lg-slide"){t.$outer.removeClass("lg-slide")}},t.s.speed+100)};t.prototype.enableSwipe=function(){var t=this;var s=0;var i=0;var o=false;if(t.s.enableSwipe&&t.isTouch&&t.doCss()){t.$slide.on("touchstart.lg",function(e){if(!t.$outer.hasClass("lg-zoomed")&&!t.lgBusy){e.preventDefault();t.manageSwipeClass();s=e.originalEvent.targetTouches[0].pageX}});t.$slide.on("touchmove.lg",function(e){if(!t.$outer.hasClass("lg-zoomed")){e.preventDefault();i=e.originalEvent.targetTouches[0].pageX;t.touchMove(s,i);o=true}});t.$slide.on("touchend.lg",function(){if(!t.$outer.hasClass("lg-zoomed")){if(o){o=false;t.touchEnd(i-s)}else{t.$el.trigger("onSlideClick.lg")}}})}};t.prototype.enableDrag=function(){var t=this;var s=0;var i=0;var o=false;var l=false;if(t.s.enableDrag&&!t.isTouch&&t.doCss()){t.$slide.on("mousedown.lg",function(e){if(!t.$outer.hasClass("lg-zoomed")){if(v(e.target).hasClass("lg-object")||v(e.target).hasClass("lg-video-play")){e.preventDefault();if(!t.lgBusy){t.manageSwipeClass();s=e.pageX;o=true;t.$outer.scrollLeft+=1;t.$outer.scrollLeft-=1;t.$outer.removeClass("lg-grab").addClass("lg-grabbing");t.$el.trigger("onDragstart.lg")}}}});v(b).on("mousemove.lg",function(e){if(o){l=true;i=e.pageX;t.touchMove(s,i);t.$el.trigger("onDragmove.lg")}});v(b).on("mouseup.lg",function(e){if(l){l=false;t.touchEnd(i-s);t.$el.trigger("onDragend.lg")}else if(v(e.target).hasClass("lg-object")||v(e.target).hasClass("lg-video-play")){t.$el.trigger("onSlideClick.lg")}if(o){o=false;t.$outer.removeClass("lg-grabbing").addClass("lg-grab")}})}};t.prototype.manageSwipeClass=function(){var e=this.index+1;var t=this.index-1;var s=this.$slide.length;if(this.s.loop){if(this.index===0){t=s-1}else if(this.index===s-1){e=0}}this.$slide.removeClass("lg-next-slide lg-prev-slide");if(t>-1){this.$slide.eq(t).addClass("lg-prev-slide")}this.$slide.eq(e).addClass("lg-next-slide")};t.prototype.mousewheel=function(){var t=this;t.$outer.on("mousewheel.lg",function(e){if(!e.deltaY){return}if(e.deltaY>0){t.goToPrevSlide()}else{t.goToNextSlide()}e.preventDefault()})};t.prototype.closeGallery=function(){var t=this;var s=false;this.$outer.find(".lg-close").on("click.lg",function(){t.destroy()});if(t.s.closable){t.$outer.on("mousedown.lg",function(e){if(v(e.target).is(".lg-outer")||v(e.target).is(".lg-item ")||v(e.target).is(".lg-img-wrap")){s=true}else{s=false}});t.$outer.on("mouseup.lg",function(e){if(v(e.target).is(".lg-outer")||v(e.target).is(".lg-item ")||v(e.target).is(".lg-img-wrap")&&s){if(!t.$outer.hasClass("lg-dragging")){t.destroy()}}})}};t.prototype.destroy=function(e){var t=this;if(!e){t.$el.trigger("onBeforeClose.lg")}v(b).scrollTop(t.prevScrollTop);if(e){if(!t.s.dynamic){this.$items.off("click.lg click.lgcustom")}v.removeData(t.el,"lightGallery")}this.$el.off(".lg.tm");v.each(v.fn.lightGallery.modules,function(e){if(t.modules[e]){t.modules[e].destroy()}});this.lGalleryOn=false;clearTimeout(t.hideBartimeout);this.hideBartimeout=false;v(b).off(".lg");v("body").removeClass("lg-on lg-from-hash");if(t.$outer){t.$outer.removeClass("lg-visible")}v(".lg-backdrop").removeClass("in");setTimeout(function(){if(t.$outer){t.$outer.remove()}v(".lg-backdrop").remove();if(!e){t.$el.trigger("onCloseAfter.lg")}},t.s.backdropDuration+50)};v.fn.lightGallery=function(e){return this.each(function(){if(!v.data(this,"lightGallery")){v.data(this,"lightGallery",new t(this,e))}else{try{v(this).data("lightGallery").init()}catch(e){console.error("lightGallery has not initiated properly")}}})};v.fn.lightGallery.modules={}})(jQuery,window,document);(function(s,e,t,i){"use strict";var o={autoplay:false,pause:5e3,progressBar:true,fourceAutoplay:false,autoplayControls:true,appendAutoplayControlsTo:".lg-toolbar"};var l=function(e){this.core=s(e).data("lightGallery");this.$el=s(e);if(this.core.$items.length<2){return false}this.core.s=s.extend({},o,this.core.s);this.interval=false;this.fromAuto=true;this.canceledOnTouch=false;this.fourceAutoplayTemp=this.core.s.fourceAutoplay;if(!this.core.doCss()){this.core.s.progressBar=false}this.init();return this};l.prototype.init=function(){var e=this;if(e.core.s.autoplayControls){e.controls()}if(e.core.s.progressBar){e.core.$outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>')}e.progress();if(e.core.s.autoplay){e.startlAuto()}e.$el.on("onDragstart.lg.tm touchstart.lg.tm",function(){if(e.interval){e.cancelAuto();e.canceledOnTouch=true}});e.$el.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm",function(){if(!e.interval&&e.canceledOnTouch){e.startlAuto();e.canceledOnTouch=false}})};l.prototype.progress=function(){var e=this;var t;var s;e.$el.on("onBeforeSlide.lg.tm",function(){if(e.core.s.progressBar&&e.fromAuto){t=e.core.$outer.find(".lg-progress-bar");s=e.core.$outer.find(".lg-progress");if(e.interval){s.removeAttr("style");t.removeClass("lg-start");setTimeout(function(){s.css("transition","width "+(e.core.s.speed+e.core.s.pause)+"ms ease 0s");t.addClass("lg-start")},20)}}if(!e.fromAuto&&!e.core.s.fourceAutoplay){e.cancelAuto()}e.fromAuto=false})};l.prototype.controls=function(){var e=this;var t='<span class="lg-autoplay-button lg-icon"></span>';s(this.core.s.appendAutoplayControlsTo).append(t);e.core.$outer.find(".lg-autoplay-button").on("click.lg",function(){if(s(e.core.$outer).hasClass("lg-show-autoplay")){e.cancelAuto();e.core.s.fourceAutoplay=false}else{if(!e.interval){e.startlAuto();e.core.s.fourceAutoplay=e.fourceAutoplayTemp}}})};l.prototype.startlAuto=function(){var e=this;e.core.$outer.find(".lg-progress").css("transition","width "+(e.core.s.speed+e.core.s.pause)+"ms ease 0s");e.core.$outer.addClass("lg-show-autoplay");e.core.$outer.find(".lg-progress-bar").addClass("lg-start");e.interval=setInterval(function(){if(e.core.index+1<e.core.$items.length){e.core.index=e.core.index}else{e.core.index=-1}e.core.index++;e.fromAuto=true;e.core.slide(e.core.index,false,false)},e.core.s.speed+e.core.s.pause)};l.prototype.cancelAuto=function(){clearInterval(this.interval);this.interval=false;this.core.$outer.find(".lg-progress").removeAttr("style");this.core.$outer.removeClass("lg-show-autoplay");this.core.$outer.find(".lg-progress-bar").removeClass("lg-start")};l.prototype.destroy=function(){this.cancelAuto();this.core.$outer.find(".lg-progress-bar").remove()};s.fn.lightGallery.modules.autoplay=l})(jQuery,window,document);(function(t,e,s,i){"use strict";var o={fullScreen:true};var l=function(e){this.core=t(e).data("lightGallery");this.$el=t(e);this.core.s=t.extend({},o,this.core.s);this.init();return this};l.prototype.init=function(){var e="";if(this.core.s.fullScreen){if(!s.fullscreenEnabled&&!s.webkitFullscreenEnabled&&!s.mozFullScreenEnabled&&!s.msFullscreenEnabled){return}else{e='<span class="lg-fullscreen lg-icon"></span>';this.core.$outer.find(".lg-toolbar").append(e);this.fullScreen()}}};l.prototype.requestFullscreen=function(){var e=s.documentElement;if(e.requestFullscreen){e.requestFullscreen()}else if(e.msRequestFullscreen){e.msRequestFullscreen()}else if(e.mozRequestFullScreen){e.mozRequestFullScreen()}else if(e.webkitRequestFullscreen){e.webkitRequestFullscreen()}};l.prototype.exitFullscreen=function(){if(s.exitFullscreen){s.exitFullscreen()}else if(s.msExitFullscreen){s.msExitFullscreen()}else if(s.mozCancelFullScreen){s.mozCancelFullScreen()}else if(s.webkitExitFullscreen){s.webkitExitFullscreen()}};l.prototype.fullScreen=function(){var e=this;t(s).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg",function(){e.core.$outer.toggleClass("lg-fullscreen-on")});this.core.$outer.find(".lg-fullscreen").on("click.lg",function(){if(!s.fullscreenElement&&!s.mozFullScreenElement&&!s.webkitFullscreenElement&&!s.msFullscreenElement){e.requestFullscreen()}else{e.exitFullscreen()}})};l.prototype.destroy=function(){this.exitFullscreen();t(s).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg")};t.fn.lightGallery.modules.fullscreen=l})(jQuery,window,document);(function(r,e,t,s){"use strict";var i={pager:false};var o=function(e){this.core=r(e).data("lightGallery");this.$el=r(e);this.core.s=r.extend({},i,this.core.s);if(this.core.s.pager&&this.core.$items.length>1){this.init()}return this};o.prototype.init=function(){var t=this;var e="";var i;var s;var o;t.core.$outer.find(".lg").append('<div class="lg-pager-outer"></div>');if(t.core.s.dynamic){for(var l=0;l<t.core.s.dynamicEl.length;l++){e+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+t.core.s.dynamicEl[l].thumb+'" /></div></span>'}}else{t.core.$items.each(function(){if(!t.core.s.exThumbImage){e+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+r(this).find("img").attr("src")+'" /></div></span>'}else{e+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+r(this).attr(t.core.s.exThumbImage)+'" /></div></span>'}})}s=t.core.$outer.find(".lg-pager-outer");s.html(e);i=t.core.$outer.find(".lg-pager-cont");i.on("click.lg touchend.lg",function(){var e=r(this);t.core.index=e.index();t.core.slide(t.core.index,false,false)});s.on("mouseover.lg",function(){clearTimeout(o);s.addClass("lg-pager-hover")});s.on("mouseout.lg",function(){o=setTimeout(function(){s.removeClass("lg-pager-hover")})});t.core.$el.on("onBeforeSlide.lg.tm",function(e,t,s){i.removeClass("lg-pager-active");i.eq(s).addClass("lg-pager-active")})};o.prototype.destroy=function(){};r.fn.lightGallery.modules.pager=o})(jQuery,window,document);(function(d,u,e,t){"use strict";var s={thumbnail:true,animateThumb:true,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:false,showThumbByDefault:true,toogleThumb:true,pullCaptionUp:true,enableThumbDrag:true,enableThumbSwipe:true,swipeThreshold:50,loadYoutubeThumbnail:true,youtubeThumbSize:1,loadVimeoThumbnail:true,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:true};var i=function(e){this.core=d(e).data("lightGallery");this.core.s=d.extend({},s,this.core.s);this.$el=d(e);this.$thumbOuter=null;this.thumbOuterWidth=0;this.thumbTotalWidth=this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin);this.thumbIndex=this.core.index;this.left=0;this.init();return this};i.prototype.init=function(){var e=this;if(this.core.s.thumbnail&&this.core.$items.length>1){if(this.core.s.showThumbByDefault){setTimeout(function(){e.core.$outer.addClass("lg-thumb-open")},700)}if(this.core.s.pullCaptionUp){this.core.$outer.addClass("lg-pull-caption-up")}this.build();if(this.core.s.animateThumb){if(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()){this.enableThumbDrag()}if(this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()){this.enableThumbSwipe()}this.thumbClickable=false}else{this.thumbClickable=true}this.toogle();this.thumbkeyPress()}};i.prototype.build=function(){var r=this;var a="";var n="";var e;var t='<div class="lg-thumb-outer">'+'<div class="lg-thumb group">'+"</div>"+"</div>";switch(this.core.s.vimeoThumbSize){case"thumbnail_large":n="640";break;case"thumbnail_medium":n="200x150";break;case"thumbnail_small":n="100x75"}r.core.$outer.addClass("lg-has-thumb");r.core.$outer.find(".lg").append(t);r.$thumbOuter=r.core.$outer.find(".lg-thumb-outer");r.thumbOuterWidth=r.$thumbOuter.width();if(r.core.s.animateThumb){r.core.$outer.find(".lg-thumb").css({width:r.thumbTotalWidth+"px",position:"relative"})}if(this.core.s.animateThumb){r.$thumbOuter.css("height",r.core.s.thumbContHeight+"px")}function s(e,t,s){var i=r.core.isVideo(e,s)||{};var o;var l="";if(i.youtube||i.vimeo||i.dailymotion){if(i.youtube){if(r.core.s.loadYoutubeThumbnail){o="//img.youtube.com/vi/"+i.youtube[1]+"/"+r.core.s.youtubeThumbSize+".jpg"}else{o=t}}else if(i.vimeo){if(r.core.s.loadVimeoThumbnail){o="//i.vimeocdn.com/video/error_"+n+".jpg";l=i.vimeo[1]}else{o=t}}else if(i.dailymotion){if(r.core.s.loadDailymotionThumbnail){o="//www.dailymotion.com/thumbnail/video/"+i.dailymotion[1]}else{o=t}}}else{o=t}a+='<div data-vimeo-id="'+l+'" class="lg-thumb-item" style="width:'+r.core.s.thumbWidth+"px; margin-right: "+r.core.s.thumbMargin+'px"><img src="'+o+'" /></div>';l=""}if(r.core.s.dynamic){for(var i=0;i<r.core.s.dynamicEl.length;i++){s(r.core.s.dynamicEl[i].src,r.core.s.dynamicEl[i].thumb,i)}}else{r.core.$items.each(function(e){if(!r.core.s.exThumbImage){s(d(this).attr("href")||d(this).attr("data-src"),d(this).find("img").attr("src"),e)}else{s(d(this).attr("href")||d(this).attr("data-src"),d(this).attr(r.core.s.exThumbImage),e)}})}r.core.$outer.find(".lg-thumb").html(a);e=r.core.$outer.find(".lg-thumb-item");e.each(function(){var t=d(this);var e=t.attr("data-vimeo-id");if(e){d.getJSON("//www.vimeo.com/api/v2/video/"+e+".json?callback=?",{format:"json"},function(e){t.find("img").attr("src",e[0][r.core.s.vimeoThumbSize])})}});e.eq(r.core.index).addClass("active");r.core.$el.on("onBeforeSlide.lg.tm",function(){e.removeClass("active");e.eq(r.core.index).addClass("active")});e.on("click.lg touchend.lg",function(){var e=d(this);setTimeout(function(){if(r.thumbClickable&&!r.core.lgBusy||!r.core.doCss()){r.core.index=e.index();r.core.slide(r.core.index,false,true)}},50)});r.core.$el.on("onBeforeSlide.lg.tm",function(){r.animateThumb(r.core.index)});d(u).on("resize.lg.thumb orientationchange.lg.thumb",function(){setTimeout(function(){r.animateThumb(r.core.index);r.thumbOuterWidth=r.$thumbOuter.width()},200)})};i.prototype.setTranslate=function(e){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+e+"px, 0px, 0px)"})};i.prototype.animateThumb=function(e){var t=this.core.$outer.find(".lg-thumb");if(this.core.s.animateThumb){var s;switch(this.core.s.currentPagerPosition){case"left":s=0;break;case"middle":s=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":s=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*e-1-s;if(this.left>this.thumbTotalWidth-this.thumbOuterWidth){this.left=this.thumbTotalWidth-this.thumbOuterWidth}if(this.left<0){this.left=0}if(this.core.lGalleryOn){if(!t.hasClass("on")){this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms")}if(!this.core.doCss()){t.animate({left:-this.left+"px"},this.core.s.speed)}}else{if(!this.core.doCss()){t.css("left",-this.left+"px")}}this.setTranslate(this.left)}};i.prototype.enableThumbDrag=function(){var t=this;var s=0;var i=0;var o=false;var l=false;var r=0;t.$thumbOuter.addClass("lg-grab");t.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",function(e){if(t.thumbTotalWidth>t.thumbOuterWidth){e.preventDefault();s=e.pageX;o=true;t.core.$outer.scrollLeft+=1;t.core.$outer.scrollLeft-=1;t.thumbClickable=false;t.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing")}});d(u).on("mousemove.lg.thumb",function(e){if(o){r=t.left;l=true;i=e.pageX;t.$thumbOuter.addClass("lg-dragging");r=r-(i-s);if(r>t.thumbTotalWidth-t.thumbOuterWidth){r=t.thumbTotalWidth-t.thumbOuterWidth}if(r<0){r=0}t.setTranslate(r)}});d(u).on("mouseup.lg.thumb",function(){if(l){l=false;t.$thumbOuter.removeClass("lg-dragging");t.left=r;if(Math.abs(i-s)<t.core.s.swipeThreshold){t.thumbClickable=true}}else{t.thumbClickable=true}if(o){o=false;t.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")}})};i.prototype.enableThumbSwipe=function(){var t=this;var s=0;var i=0;var o=false;var l=0;t.core.$outer.find(".lg-thumb").on("touchstart.lg",function(e){if(t.thumbTotalWidth>t.thumbOuterWidth){e.preventDefault();s=e.originalEvent.targetTouches[0].pageX;t.thumbClickable=false}});t.core.$outer.find(".lg-thumb").on("touchmove.lg",function(e){if(t.thumbTotalWidth>t.thumbOuterWidth){e.preventDefault();i=e.originalEvent.targetTouches[0].pageX;o=true;t.$thumbOuter.addClass("lg-dragging");l=t.left;l=l-(i-s);if(l>t.thumbTotalWidth-t.thumbOuterWidth){l=t.thumbTotalWidth-t.thumbOuterWidth}if(l<0){l=0}t.setTranslate(l)}});t.core.$outer.find(".lg-thumb").on("touchend.lg",function(){if(t.thumbTotalWidth>t.thumbOuterWidth){if(o){o=false;t.$thumbOuter.removeClass("lg-dragging");if(Math.abs(i-s)<t.core.s.swipeThreshold){t.thumbClickable=true}t.left=l}else{t.thumbClickable=true}}else{t.thumbClickable=true}})};i.prototype.toogle=function(){var e=this;if(e.core.s.toogleThumb){e.core.$outer.addClass("lg-can-toggle");e.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"></span>');e.core.$outer.find(".lg-toogle-thumb").on("click.lg",function(){e.core.$outer.toggleClass("lg-thumb-open")})}};i.prototype.thumbkeyPress=function(){var t=this;d(u).on("keydown.lg.thumb",function(e){if(e.keyCode===38){e.preventDefault();t.core.$outer.addClass("lg-thumb-open")}else if(e.keyCode===40){e.preventDefault();t.core.$outer.removeClass("lg-thumb-open")}})};i.prototype.destroy=function(){if(this.core.s.thumbnail&&this.core.$items.length>1){d(u).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb");this.$thumbOuter.remove();this.core.$outer.removeClass("lg-has-thumb")}};d.fn.lightGallery.modules.Thumbnail=i})(jQuery,window,document);(function(h,e,t,s){"use strict";var i={videoMaxWidth:"855px",youtubePlayerParams:false,vimeoPlayerParams:false,dailymotionPlayerParams:false,vkPlayerParams:false,videojs:false,videojsOptions:{}};var o=function(e){this.core=h(e).data("lightGallery");this.$el=h(e);this.core.s=h.extend({},i,this.core.s);this.videoLoaded=false;this.init();return this};o.prototype.init=function(){var c=this;c.core.$el.on("hasVideo.lg.tm",function(e,t,s,i){c.core.$slide.eq(t).find(".lg-video").append(c.loadVideo(s,"lg-object",true,t,i));if(i){if(c.core.s.videojs){try{videojs(c.core.$slide.eq(t).find(".lg-html5").get(0),c.core.s.videojsOptions,function(){if(!c.videoLoaded){this.play()}})}catch(e){console.error("Make sure you have included videojs")}}else{c.core.$slide.eq(t).find(".lg-html5").get(0).play()}}});c.core.$el.on("onAferAppendSlide.lg.tm",function(e,t){c.core.$slide.eq(t).find(".lg-video-cont").css("max-width",c.core.s.videoMaxWidth);c.videoLoaded=true});var t=function(s){if(s.find(".lg-object").hasClass("lg-has-poster")&&s.find(".lg-object").is(":visible")){if(!s.hasClass("lg-has-video")){s.addClass("lg-video-playing lg-has-video");var e;var t;var i=function(e,t){s.find(".lg-video").append(c.loadVideo(e,"",false,c.core.index,t));if(t){if(c.core.s.videojs){try{videojs(c.core.$slide.eq(c.core.index).find(".lg-html5").get(0),c.core.s.videojsOptions,function(){this.play()})}catch(e){console.error("Make sure you have included videojs")}}else{c.core.$slide.eq(c.core.index).find(".lg-html5").get(0).play()}}};if(c.core.s.dynamic){e=c.core.s.dynamicEl[c.core.index].src;t=c.core.s.dynamicEl[c.core.index].html;i(e,t)}else{e=c.core.$items.eq(c.core.index).attr("href")||c.core.$items.eq(c.core.index).attr("data-src");t=c.core.$items.eq(c.core.index).attr("data-html");i(e,t)}var o=s.find(".lg-object");s.find(".lg-video").append(o);if(!s.find(".lg-video-object").hasClass("lg-html5")){s.removeClass("lg-complete");s.find(".lg-video-object").on("load.lg error.lg",function(){s.addClass("lg-complete")})}}else{var l=s.find(".lg-youtube").get(0);var r=s.find(".lg-vimeo").get(0);var a=s.find(".lg-dailymotion").get(0);var n=s.find(".lg-html5").get(0);if(l){l.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}else if(r){try{$f(r).api("play")}catch(e){console.error("Make sure you have included froogaloop2 js")}}else if(a){a.contentWindow.postMessage("play","*")}else if(n){if(c.core.s.videojs){try{videojs(n).play()}catch(e){console.error("Make sure you have included videojs")}}else{n.play()}}s.addClass("lg-video-playing")}}};if(c.core.doCss()&&c.core.$items.length>1&&(c.core.s.enableSwipe&&c.core.isTouch||c.core.s.enableDrag&&!c.core.isTouch)){c.core.$el.on("onSlideClick.lg.tm",function(){var e=c.core.$slide.eq(c.core.index);t(e)})}else{c.core.$slide.on("click.lg",function(){t(h(this))})}c.core.$el.on("onBeforeSlide.lg.tm",function(e,t,s){var i=c.core.$slide.eq(t);var o=i.find(".lg-youtube").get(0);var l=i.find(".lg-vimeo").get(0);var r=i.find(".lg-dailymotion").get(0);var a=i.find(".lg-vk").get(0);var n=i.find(".lg-html5").get(0);if(o){o.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}else if(l){try{$f(l).api("pause")}catch(e){console.error("Make sure you have included froogaloop2 js")}}else if(r){r.contentWindow.postMessage("pause","*")}else if(n){if(c.core.s.videojs){try{videojs(n).pause()}catch(e){console.error("Make sure you have included videojs")}}else{n.pause()}}if(a){h(a).attr("src",h(a).attr("src").replace("&autoplay","&noplay"))}var d;if(c.core.s.dynamic){d=c.core.s.dynamicEl[s].src}else{d=c.core.$items.eq(s).attr("href")||c.core.$items.eq(s).attr("data-src")}var u=c.core.isVideo(d,s)||{};if(u.youtube||u.vimeo||u.dailymotion||u.vk){c.core.$outer.addClass("lg-hide-download")}});c.core.$el.on("onAfterSlide.lg.tm",function(e,t){c.core.$slide.eq(t).removeClass("lg-video-playing")})};o.prototype.loadVideo=function(e,t,s,i,o){var l="";var r=1;var a="";var n=this.core.isVideo(e,i)||{};if(s){if(this.videoLoaded){r=0}else{r=1}}if(n.youtube){a="?wmode=opaque&autoplay="+r+"&enablejsapi=1";if(this.core.s.youtubePlayerParams){a=a+"&"+h.param(this.core.s.youtubePlayerParams)}l='<iframe class="lg-video-object lg-youtube '+t+'" width="560" height="315" src="//www.youtube.com/embed/'+n.youtube[1]+a+'" frameborder="0" allowfullscreen></iframe>'}else if(n.vimeo){a="?autoplay="+r+"&api=1";if(this.core.s.vimeoPlayerParams){a=a+"&"+h.param(this.core.s.vimeoPlayerParams)}l='<iframe class="lg-video-object lg-vimeo '+t+'" width="560" height="315"  src="//player.vimeo.com/video/'+n.vimeo[1]+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'}else if(n.dailymotion){a="?wmode=opaque&autoplay="+r+"&api=postMessage";if(this.core.s.dailymotionPlayerParams){a=a+"&"+h.param(this.core.s.dailymotionPlayerParams)}l='<iframe class="lg-video-object lg-dailymotion '+t+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+n.dailymotion[1]+a+'" frameborder="0" allowfullscreen></iframe>'}else if(n.html5){var d=o.substring(0,1);if(d==="."||d==="#"){o=h(o).html()}l=o}else if(n.vk){a="&autoplay="+r;if(this.core.s.vkPlayerParams){a=a+"&"+h.param(this.core.s.vkPlayerParams)}l='<iframe class="lg-video-object lg-vk '+t+'" width="560" height="315" src="http://vk.com/video_ext.php?'+n.vk[1]+a+'" frameborder="0" allowfullscreen></iframe>'}return l};o.prototype.destroy=function(){this.videoLoaded=false};h.fn.lightGallery.modules.video=o})(jQuery,window,document);(function(c,h,e,t){"use strict";var s={scale:1,zoom:true,actualSize:true,enableZoomAfter:300};var i=function(e){this.core=c(e).data("lightGallery");this.core.s=c.extend({},s,this.core.s);if(this.core.s.zoom&&this.core.doCss()){this.init();this.zoomabletimeout=false;this.pageX=c(h).width()/2;this.pageY=c(h).height()/2+c(h).scrollTop()}return this};i.prototype.init=function(){var n=this;var e='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';if(n.core.s.actualSize){e+='<span id="lg-actual-size" class="lg-icon"></span>'}this.core.$outer.find(".lg-toolbar").append(e);n.core.$el.on("onSlideItemLoad.lg.tm.zoom",function(e,t,s){var i=n.core.s.enableZoomAfter+s;if(c("body").hasClass("lg-from-hash")&&s){i=0}else{c("body").removeClass("lg-from-hash")}n.zoomabletimeout=setTimeout(function(){n.core.$slide.eq(t).addClass("lg-zoomable")},i+30)});var a=1;var t=function(e){var t=n.core.$outer.find(".lg-current .lg-image");var s;var i;var o=(c(h).width()-t.width())/2;var l=(c(h).height()-t.height())/2+c(h).scrollTop();s=n.pageX-o;i=n.pageY-l;var r=(e-1)*s;var a=(e-1)*i;t.css("transform","scale3d("+e+", "+e+", 1)").attr("data-scale",e);t.parent().css("transform","translate3d(-"+r+"px, -"+a+"px, 0)").attr("data-x",r).attr("data-y",a)};var d=function(){if(a>1){n.core.$outer.addClass("lg-zoomed")}else{n.resetZoom()}if(a<1){a=1}t(a)};var i=function(e,t,s,i){var o=t.width();var l;if(n.core.s.dynamic){l=n.core.s.dynamicEl[s].width||t[0].naturalWidth||o}else{l=n.core.$items.eq(s).attr("data-width")||t[0].naturalWidth||o}var r;if(n.core.$outer.hasClass("lg-zoomed")){a=1}else{if(l>o){r=l/o;a=r||2}}if(i){n.pageX=c(h).width()/2;n.pageY=c(h).height()/2+c(h).scrollTop()}else{n.pageX=e.pageX||e.originalEvent.targetTouches[0].pageX;n.pageY=e.pageY||e.originalEvent.targetTouches[0].pageY}d();setTimeout(function(){n.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")},10)};var o=false;n.core.$el.on("onAferAppendSlide.lg.tm.zoom",function(e,t){var s=n.core.$slide.eq(t).find(".lg-image");s.on("dblclick",function(e){i(e,s,t)});s.on("touchstart",function(e){if(!o){o=setTimeout(function(){o=null},300)}else{clearTimeout(o);o=null;i(e,s,t)}e.preventDefault()})});c(h).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom",function(){n.pageX=c(h).width()/2;n.pageY=c(h).height()/2+c(h).scrollTop();t(a)});c("#lg-zoom-out").on("click.lg",function(){if(n.core.$outer.find(".lg-current .lg-image").length){a-=n.core.s.scale;d()}});c("#lg-zoom-in").on("click.lg",function(){if(n.core.$outer.find(".lg-current .lg-image").length){a+=n.core.s.scale;d()}});c("#lg-actual-size").on("click.lg",function(e){i(e,n.core.$slide.eq(n.core.index).find(".lg-image"),n.core.index,true)});n.core.$el.on("onBeforeSlide.lg.tm",function(){a=1;n.resetZoom()});if(!n.core.isTouch){n.zoomDrag()}if(n.core.isTouch){n.zoomSwipe()}};i.prototype.resetZoom=function(){this.core.$outer.removeClass("lg-zoomed");this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y");this.core.$slide.find(".lg-image").removeAttr("style data-scale");this.pageX=c(h).width()/2;this.pageY=c(h).height()/2+c(h).scrollTop()};i.prototype.zoomSwipe=function(){var o=this;var l={};var r={};var a=false;var n=false;var d=false;o.core.$slide.on("touchstart.lg",function(e){if(o.core.$outer.hasClass("lg-zoomed")){var t=o.core.$slide.eq(o.core.index).find(".lg-object");d=t.outerHeight()*t.attr("data-scale")>o.core.$outer.find(".lg").height();n=t.outerWidth()*t.attr("data-scale")>o.core.$outer.find(".lg").width();if(n||d){e.preventDefault();l={x:e.originalEvent.targetTouches[0].pageX,y:e.originalEvent.targetTouches[0].pageY}}}});o.core.$slide.on("touchmove.lg",function(e){if(o.core.$outer.hasClass("lg-zoomed")){var t=o.core.$slide.eq(o.core.index).find(".lg-img-wrap");var s;var i;e.preventDefault();a=true;r={x:e.originalEvent.targetTouches[0].pageX,y:e.originalEvent.targetTouches[0].pageY};o.core.$outer.addClass("lg-zoom-dragging");if(d){i=-Math.abs(t.attr("data-y"))+(r.y-l.y)}else{i=-Math.abs(t.attr("data-y"))}if(n){s=-Math.abs(t.attr("data-x"))+(r.x-l.x)}else{s=-Math.abs(t.attr("data-x"))}if(Math.abs(r.x-l.x)>15||Math.abs(r.y-l.y)>15){t.css("transform","translate3d("+s+"px, "+i+"px, 0)")}}});o.core.$slide.on("touchend.lg",function(){if(o.core.$outer.hasClass("lg-zoomed")){if(a){a=false;o.core.$outer.removeClass("lg-zoom-dragging");o.touchendZoom(l,r,n,d)}}})};i.prototype.zoomDrag=function(){var o=this;var l={};var r={};var a=false;var n=false;var d=false;var u=false;o.core.$slide.on("mousedown.lg.zoom",function(e){var t=o.core.$slide.eq(o.core.index).find(".lg-object");u=t.outerHeight()*t.attr("data-scale")>o.core.$outer.find(".lg").height();d=t.outerWidth()*t.attr("data-scale")>o.core.$outer.find(".lg").width();if(o.core.$outer.hasClass("lg-zoomed")){if(c(e.target).hasClass("lg-object")&&(d||u)){e.preventDefault();l={x:e.pageX,y:e.pageY};a=true;o.core.$outer.scrollLeft+=1;o.core.$outer.scrollLeft-=1;o.core.$outer.removeClass("lg-grab").addClass("lg-grabbing")}}});c(h).on("mousemove.lg.zoom",function(e){if(a){var t=o.core.$slide.eq(o.core.index).find(".lg-img-wrap");var s;var i;n=true;r={x:e.pageX,y:e.pageY};o.core.$outer.addClass("lg-zoom-dragging");if(u){i=-Math.abs(t.attr("data-y"))+(r.y-l.y)}else{i=-Math.abs(t.attr("data-y"))}if(d){s=-Math.abs(t.attr("data-x"))+(r.x-l.x)}else{s=-Math.abs(t.attr("data-x"))}t.css("transform","translate3d("+s+"px, "+i+"px, 0)")}});c(h).on("mouseup.lg.zoom",function(e){if(a){a=false;o.core.$outer.removeClass("lg-zoom-dragging");if(n&&(l.x!==r.x||l.y!==r.y)){r={x:e.pageX,y:e.pageY};o.touchendZoom(l,r,d,u)}n=false}o.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")})};i.prototype.touchendZoom=function(e,t,s,i){var o=this;var l=o.core.$slide.eq(o.core.index).find(".lg-img-wrap");var r=o.core.$slide.eq(o.core.index).find(".lg-object");var a=-Math.abs(l.attr("data-x"))+(t.x-e.x);var n=-Math.abs(l.attr("data-y"))+(t.y-e.y);var d=(o.core.$outer.find(".lg").height()-r.outerHeight())/2;var u=Math.abs(r.outerHeight()*Math.abs(r.attr("data-scale"))-o.core.$outer.find(".lg").height()+d);var c=(o.core.$outer.find(".lg").width()-r.outerWidth())/2;var h=Math.abs(r.outerWidth()*Math.abs(r.attr("data-scale"))-o.core.$outer.find(".lg").width()+c);if(Math.abs(t.x-e.x)>15||Math.abs(t.y-e.y)>15){if(i){if(n<=-u){n=-u}else if(n>=-d){n=-d}}if(s){if(a<=-h){a=-h}else if(a>=-c){a=-c}}if(i){l.attr("data-y",Math.abs(n))}else{n=-Math.abs(l.attr("data-y"))}if(s){l.attr("data-x",Math.abs(a))}else{a=-Math.abs(l.attr("data-x"))}l.css("transform","translate3d("+a+"px, "+n+"px, 0)")}};i.prototype.destroy=function(){var e=this;e.core.$el.off(".lg.zoom");c(h).off(".lg.zoom");e.core.$slide.off(".lg.zoom");e.core.$el.off(".lg.tm.zoom");e.resetZoom();clearTimeout(e.zoomabletimeout);e.zoomabletimeout=false};c.fn.lightGallery.modules.zoom=i})(jQuery,window,document);(function(s,o,e,t){"use strict";var i={hash:true};var l=function(e){this.core=s(e).data("lightGallery");this.core.s=s.extend({},i,this.core.s);if(this.core.s.hash){this.oldHash=o.location.hash;this.init()}return this};l.prototype.init=function(){var i=this;var t;i.core.$el.on("onAfterSlide.lg.tm",function(e,t,s){o.location.hash="lg="+i.core.s.galleryId+"&slide="+s});s(o).on("hashchange.lg.hash",function(){t=o.location.hash;var e=parseInt(t.split("&slide=")[1],10);if(t.indexOf("lg="+i.core.s.galleryId)>-1){i.core.slide(e,false,false)}else if(i.core.lGalleryOn){i.core.destroy()}})};l.prototype.destroy=function(){if(!this.core.s.hash){return}if(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0){o.location.hash=this.oldHash}else{if(history.pushState){history.pushState("",e.title,o.location.pathname+o.location.search)}else{o.location.hash=""}}this.core.$el.off(".lg.hash")};s.fn.lightGallery.modules.hash=l})(jQuery,window,document);
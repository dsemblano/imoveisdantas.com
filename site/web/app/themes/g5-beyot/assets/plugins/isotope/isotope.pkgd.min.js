(function(t){var h=Array.prototype.slice;function e(){}function i(p){if(!p){return}function i(t){if(t.prototype.option){return}t.prototype.option=function(t){if(!p.isPlainObject(t)){return}this.options=p.extend(true,this.options,t)}}var f=typeof console==="undefined"?e:function(t){console.error(t)};function n(a,u){p.fn[a]=function(e){if(typeof e==="string"){var t=h.call(arguments,1);for(var i=0,n=this.length;i<n;i++){var o=this[i];var r=p.data(o,a);if(!r){f("cannot call methods on "+a+" prior to initialization; "+"attempted to call '"+e+"'");continue}if(!p.isFunction(r[e])||e.charAt(0)==="_"){f("no such method '"+e+"' for "+a+" instance");continue}var s=r[e].apply(r,t);if(s!==undefined){return s}}return this}else{return this.each(function(){var t=p.data(this,a);if(t){t.option(e);t._init()}else{t=new u(this,e);p.data(this,a,t)}})}}}p.bridget=function(t,e){i(e);n(t,e)};return p.bridget}if(typeof define==="function"&&define.amd){define("jquery-bridget/jquery.bridget",["jquery"],i)}else if(typeof exports==="object"){i(require("jquery"))}else{i(t.jQuery)}})(window);(function(i){var t=document.documentElement;var e=function(){};function n(t){var e=i.event;e.target=e.target||e.srcElement||t;return e}if(t.addEventListener){e=function(t,e,i){t.addEventListener(e,i,false)}}else if(t.attachEvent){e=function(e,t,i){e[t+i]=i.handleEvent?function(){var t=n(e);i.handleEvent.call(i,t)}:function(){var t=n(e);i.call(e,t)};e.attachEvent("on"+t,e[t+i])}}var o=function(){};if(t.removeEventListener){o=function(t,e,i){t.removeEventListener(e,i,false)}}else if(t.detachEvent){o=function(e,i,n){e.detachEvent("on"+i,e[i+n]);try{delete e[i+n]}catch(t){e[i+n]=undefined}}}var r={bind:e,unbind:o};if(typeof define==="function"&&define.amd){define("eventie/eventie",r)}else if(typeof exports==="object"){module.exports=r}else{i.eventie=r}})(window);(function(){function e(){}var t=e.prototype;var i=this;var n=i.EventEmitter;function s(t,e){var i=t.length;while(i--){if(t[i].listener===e){return i}}return-1}function o(e){return function t(){return this[e].apply(this,arguments)}}t.getListeners=function t(e){var i=this._getEvents();var n;var o;if(e instanceof RegExp){n={};for(o in i){if(i.hasOwnProperty(o)&&e.test(o)){n[o]=i[o]}}}else{n=i[e]||(i[e]=[])}return n};t.flattenListeners=function t(e){var i=[];var n;for(n=0;n<e.length;n+=1){i.push(e[n].listener)}return i};t.getListenersAsObject=function t(e){var i=this.getListeners(e);var n;if(i instanceof Array){n={};n[e]=i}return n||i};t.addListener=function t(e,i){var n=this.getListenersAsObject(e);var o=typeof i==="object";var r;for(r in n){if(n.hasOwnProperty(r)&&s(n[r],i)===-1){n[r].push(o?i:{listener:i,once:false})}}return this};t.on=o("addListener");t.addOnceListener=function t(e,i){return this.addListener(e,{listener:i,once:true})};t.once=o("addOnceListener");t.defineEvent=function t(e){this.getListeners(e);return this};t.defineEvents=function t(e){for(var i=0;i<e.length;i+=1){this.defineEvent(e[i])}return this};t.removeListener=function t(e,i){var n=this.getListenersAsObject(e);var o;var r;for(r in n){if(n.hasOwnProperty(r)){o=s(n[r],i);if(o!==-1){n[r].splice(o,1)}}}return this};t.off=o("removeListener");t.addListeners=function t(e,i){return this.manipulateListeners(false,e,i)};t.removeListeners=function t(e,i){return this.manipulateListeners(true,e,i)};t.manipulateListeners=function t(e,i,n){var o;var r;var s=e?this.removeListener:this.addListener;var a=e?this.removeListeners:this.addListeners;if(typeof i==="object"&&!(i instanceof RegExp)){for(o in i){if(i.hasOwnProperty(o)&&(r=i[o])){if(typeof r==="function"){s.call(this,o,r)}else{a.call(this,o,r)}}}}else{o=n.length;while(o--){s.call(this,i,n[o])}}return this};t.removeEvent=function t(e){var i=typeof e;var n=this._getEvents();var o;if(i==="string"){delete n[e]}else if(e instanceof RegExp){for(o in n){if(n.hasOwnProperty(o)&&e.test(o)){delete n[o]}}}else{delete this._events}return this};t.removeAllListeners=o("removeEvent");t.emitEvent=function t(e,i){var n=this.getListenersAsObject(e);var o;var r;var s;var a;for(s in n){if(n.hasOwnProperty(s)){r=n[s].length;while(r--){o=n[s][r];if(o.once===true){this.removeListener(e,o.listener)}a=o.listener.apply(this,i||[]);if(a===this._getOnceReturnValue()){this.removeListener(e,o.listener)}}}}return this};t.trigger=o("emitEvent");t.emit=function t(e){var i=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,i)};t.setOnceReturnValue=function t(e){this._onceReturnValue=e;return this};t._getOnceReturnValue=function t(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};t._getEvents=function t(){return this._events||(this._events={})};e.noConflict=function t(){i.EventEmitter=n;return e};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return e})}else if(typeof module==="object"&&module.exports){module.exports=e}else{i.EventEmitter=e}}).call(this);(function(t){var o="Webkit Moz ms Ms O".split(" ");var r=document.documentElement.style;function e(t){if(!t){return}if(typeof r[t]==="string"){return t}t=t.charAt(0).toUpperCase()+t.slice(1);var e;for(var i=0,n=o.length;i<n;i++){e=o[i]+t;if(typeof r[e]==="string"){return e}}}if(typeof define==="function"&&define.amd){define("get-style-property/get-style-property",[],function(){return e})}else if(typeof exports==="object"){module.exports=e}else{t.getStyleProperty=e}})(window);(function(s,t){function x(t){var e=parseFloat(t);var i=t.indexOf("%")===-1&&!isNaN(e);return i&&e}function e(){}var a=typeof console==="undefined"?e:function(t){console.error(t)};var E=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function b(){var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var e=0,i=E.length;e<i;e++){var n=E[e];t[n]=0}return t}function i(o){var r=false;var g,_,I;function z(){if(r){return}r=true;var e=s.getComputedStyle;g=function(){var n=e?function(t){return e(t,null)}:function(t){return t.currentStyle};return function t(e){var i=n(e);if(!i){a("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? "+"See http://bit.ly/getsizebug1")}return i}}();_=o("boxSizing");if(_){var t=document.createElement("div");t.style.width="200px";t.style.padding="1px 2px 3px 4px";t.style.borderStyle="solid";t.style.borderWidth="1px 2px 3px 4px";t.style[_]="border-box";var i=document.body||document.documentElement;i.appendChild(t);var n=g(t);I=x(n.width)===200;i.removeChild(t)}}function t(t){z();if(typeof t==="string"){t=document.querySelector(t)}if(!t||typeof t!=="object"||!t.nodeType){return}var e=g(t);if(e.display==="none"){return b()}var i={};i.width=t.offsetWidth;i.height=t.offsetHeight;var n=i.isBorderBox=!!(_&&e[_]&&e[_]==="border-box");for(var o=0,r=E.length;o<r;o++){var s=E[o];var a=e[s];a=L(t,a);var u=parseFloat(a);i[s]=!isNaN(u)?u:0}var p=i.paddingLeft+i.paddingRight;var f=i.paddingTop+i.paddingBottom;var h=i.marginLeft+i.marginRight;var l=i.marginTop+i.marginBottom;var d=i.borderLeftWidth+i.borderRightWidth;var c=i.borderTopWidth+i.borderBottomWidth;var y=n&&I;var m=x(e.width);if(m!==false){i.width=m+(y?0:p+d)}var v=x(e.height);if(v!==false){i.height=v+(y?0:f+c)}i.innerWidth=i.width-(p+d);i.innerHeight=i.height-(f+c);i.outerWidth=i.width+h;i.outerHeight=i.height+l;return i}function L(t,e){if(s.getComputedStyle||e.indexOf("%")===-1){return e}var i=t.style;var n=i.left;var o=t.runtimeStyle;var r=o&&o.left;if(r){o.left=t.currentStyle.left}i.left=e;e=i.pixelLeft;i.left=n;if(r){o.left=r}return e}return t}if(typeof define==="function"&&define.amd){define("get-size/get-size",["get-style-property/get-style-property"],i)}else if(typeof exports==="object"){module.exports=i(require("desandro-get-style-property"))}else{s.getSize=i(s.getStyleProperty)}})(window);(function(e){var i=e.document;var n=[];function o(t){if(typeof t!=="function"){return}if(o.isReady){t()}else{n.push(t)}}o.isReady=false;function r(t){var e=t.type==="readystatechange"&&i.readyState!=="complete";if(o.isReady||e){return}s()}function s(){o.isReady=true;for(var t=0,e=n.length;t<e;t++){var i=n[t];i()}}function t(t){if(i.readyState==="complete"){s()}else{t.bind(i,"DOMContentLoaded",r);t.bind(i,"readystatechange",r);t.bind(e,"load",r)}return o}if(typeof define==="function"&&define.amd){define("doc-ready/doc-ready",["eventie/eventie"],t)}else if(typeof exports==="object"){module.exports=t(require("eventie"))}else{e.docReady=t(e.eventie)}})(window);(function(r){var i=function(){if(r.matches){return"matches"}if(r.matchesSelector){return"matchesSelector"}var t=["webkit","moz","ms","o"];for(var e=0,i=t.length;e<i;e++){var n=t[e];var o=n+"MatchesSelector";if(r[o]){return o}}}();function n(t,e){return t[i](e)}function s(t){if(t.parentNode){return}var e=document.createDocumentFragment();e.appendChild(t)}function t(t,e){s(t);var i=t.parentNode.querySelectorAll(e);for(var n=0,o=i.length;n<o;n++){if(i[n]===t){return true}}return false}function e(t,e){s(t);return n(t,e)}var o;if(i){var a=document.createElement("div");var u=n(a,"div");o=u?n:e}else{o=t}if(typeof define==="function"&&define.amd){define("matches-selector/matches-selector",[],function(){return o})}else if(typeof exports==="object"){module.exports=o}else{window.matchesSelector=o}})(Element.prototype);(function(i,n){if(typeof define=="function"&&define.amd){define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(t,e){return n(i,t,e)})}else if(typeof exports=="object"){module.exports=n(i,require("doc-ready"),require("desandro-matches-selector"))}else{i.fizzyUIUtils=n(i,i.docReady,i.matchesSelector)}})(window,function t(l,e,p){var d={};d.extend=function(t,e){for(var i in e){t[i]=e[i]}return t};d.modulo=function(t,e){return(t%e+e)%e};var i=Object.prototype.toString;d.isArray=function(t){return i.call(t)=="[object Array]"};d.makeArray=function(t){var e=[];if(d.isArray(t)){e=t}else if(t&&typeof t.length=="number"){for(var i=0,n=t.length;i<n;i++){e.push(t[i])}}else{e.push(t)}return e};d.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;i<n;i++){if(t[i]===e){return i}}return-1};d.removeFrom=function(t,e){var i=d.indexOf(t,e);if(i!=-1){t.splice(i,1)}};d.isElement=typeof HTMLElement=="function"||typeof HTMLElement=="object"?function t(e){return e instanceof HTMLElement}:function t(e){return e&&typeof e=="object"&&e.nodeType==1&&typeof e.nodeName=="string"};d.setText=function(){var i;function t(t,e){i=i||(document.documentElement.textContent!==undefined?"textContent":"innerText");t[i]=e}return t}();d.getParent=function(t,e){while(t!=document.body){t=t.parentNode;if(p(t,e)){return t}}};d.getQueryElement=function(t){if(typeof t=="string"){return document.querySelector(t)}return t};d.handleEvent=function(t){var e="on"+t.type;if(this[e]){this[e](t)}};d.filterFindElements=function(t,e){t=d.makeArray(t);var i=[];for(var n=0,o=t.length;n<o;n++){var r=t[n];if(!d.isElement(r)){continue}if(e){if(p(r,e)){i.push(r)}var s=r.querySelectorAll(e);for(var a=0,u=s.length;a<u;a++){i.push(s[a])}}else{i.push(r)}}return i};d.debounceMethod=function(t,e,n){var o=t.prototype[e];var r=e+"Timeout";t.prototype[e]=function(){var t=this[r];if(t){clearTimeout(t)}var e=arguments;var i=this;this[r]=setTimeout(function(){o.apply(i,e);delete i[r]},n||100)}};d.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var c=l.console;d.htmlInit=function(f,h){e(function(){var t=d.toDashed(h);var e=document.querySelectorAll(".js-"+t);var i="data-"+t+"-options";for(var n=0,o=e.length;n<o;n++){var r=e[n];var s=r.getAttribute(i);var a;try{a=s&&JSON.parse(s)}catch(t){if(c){c.error("Error parsing "+i+" on "+r.nodeName.toLowerCase()+(r.id?"#"+r.id:"")+": "+t)}continue}var u=new f(r,a);var p=l.jQuery;if(p){p.data(r,h,u)}}})};return d});(function(o,r){if(typeof define==="function"&&define.amd){define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(t,e,i,n){return r(o,t,e,i,n)})}else if(typeof exports==="object"){module.exports=r(o,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils"))}else{o.Outlayer={};o.Outlayer.Item=r(o,o.EventEmitter,o.getSize,o.getStyleProperty,o.fizzyUIUtils)}})(window,function t(e,i,n,r,o){var s=e.getComputedStyle;var a=s?function(t){return s(t,null)}:function(t){return t.currentStyle};function u(t){for(var e in t){return false}e=null;return true}var p=r("transition");var f=r("transform");var h=p&&f;var l=!!r("perspective");var d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[p];var c=["transform","transition","transitionDuration","transitionProperty"];var y=function(){var t={};for(var e=0,i=c.length;e<i;e++){var n=c[e];var o=r(n);if(o&&o!==n){t[n]=o}}return t}();function m(t,e){if(!t){return}this.element=t;this.layout=e;this.position={x:0,y:0};this._create()}o.extend(m.prototype,i.prototype);m.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};m.prototype.handleEvent=function(t){var e="on"+t.type;if(this[e]){this[e](t)}};m.prototype.getSize=function(){this.size=n(this.element)};m.prototype.css=function(t){var e=this.element.style;for(var i in t){var n=y[i]||i;e[n]=t[i]}};m.prototype.getPosition=function(){var t=a(this.element);var e=this.layout.options;var i=e.isOriginLeft;var n=e.isOriginTop;var o=parseInt(t[i?"left":"right"],10);var r=parseInt(t[n?"top":"bottom"],10);o=isNaN(o)?0:o;r=isNaN(r)?0:r;var s=this.layout.size;o-=i?s.paddingLeft:s.paddingRight;r-=n?s.paddingTop:s.paddingBottom;this.position.x=o;this.position.y=r};m.prototype.layoutPosition=function(){var t=this.layout.size;var e=this.layout.options;var i={};var n=e.isOriginLeft?"paddingLeft":"paddingRight";var o=e.isOriginLeft?"left":"right";var r=e.isOriginLeft?"right":"left";var s=this.position.x+t[n];s=e.percentPosition&&!e.isHorizontal?s/t.width*100+"%":s+"px";i[o]=s;i[r]="";var a=e.isOriginTop?"paddingTop":"paddingBottom";var u=e.isOriginTop?"top":"bottom";var p=e.isOriginTop?"bottom":"top";var f=this.position.y+t[a];f=e.percentPosition&&e.isHorizontal?f/t.height*100+"%":f+"px";i[u]=f;i[p]="";this.css(i);this.emitEvent("layout",[this])};var v=l?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};m.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x;var n=this.position.y;var o=parseInt(t,10);var r=parseInt(e,10);var s=o===this.position.x&&r===this.position.y;this.setPosition(t,e);if(s&&!this.isTransitioning){this.layoutPosition();return}var a=t-i;var u=e-n;var p={};var f=this.layout.options;a=f.isOriginLeft?a:-a;u=f.isOriginTop?u:-u;p.transform=v(a,u);this.transition({to:p,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};m.prototype.goTo=function(t,e){this.setPosition(t,e);this.layoutPosition()};m.prototype.moveTo=h?m.prototype._transitionTo:m.prototype.goTo;m.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10);this.position.y=parseInt(e,10)};m.prototype._nonTransition=function(t){this.css(t.to);if(t.isCleaning){this._removeStyles(t.to)}for(var e in t.onTransitionEnd){t.onTransitionEnd[e].call(this)}};m.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(t);return}var e=this._transn;for(var i in t.onTransitionEnd){e.onEnd[i]=t.onTransitionEnd[i]}for(i in t.to){e.ingProperties[i]=true;if(t.isCleaning){e.clean[i]=true}}if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to);this.css(t.to);this.isTransitioning=true};var g=f&&o.toDashed(f)+",opacity";m.prototype.enableTransition=function(){if(this.isTransitioning){return}this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration});this.element.addEventListener(d,this,false)};m.prototype.transition=m.prototype[p?"_transition":"_nonTransition"];m.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)};m.prototype.onotransitionend=function(t){this.ontransitionend(t)};var _={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};m.prototype.ontransitionend=function(t){if(t.target!==this.element){return}var e=this._transn;var i=_[t.propertyName]||t.propertyName;delete e.ingProperties[i];if(u(e.ingProperties)){this.disableTransition()}if(i in e.clean){this.element.style[t.propertyName]="";delete e.clean[i]}if(i in e.onEnd){var n=e.onEnd[i];n.call(this);delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])};m.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(d,this,false);this.isTransitioning=false};m.prototype._removeStyles=function(t){var e={};for(var i in t){e[i]=""}this.css(e)};var I={transitionProperty:"",transitionDuration:""};m.prototype.removeTransitionStyles=function(){this.css(I)};m.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])};m.prototype.remove=function(){if(!p||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var t=this;this.once("transitionEnd",function(){t.removeElem()});this.hide()};m.prototype.reveal=function(){delete this.isHidden;this.css({display:""});var t=this.layout.options;var e={};var i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:true,onTransitionEnd:e})};m.prototype.onRevealTransitionEnd=function(){if(!this.isHidden){this.emitEvent("reveal")}};m.prototype.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity){return"opacity"}for(var i in e){return i}};m.prototype.hide=function(){this.isHidden=true;this.css({display:""});var t=this.layout.options;var e={};var i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:true,onTransitionEnd:e})};m.prototype.onHideTransitionEnd=function(){if(this.isHidden){this.css({display:"none"});this.emitEvent("hide")}};m.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return m});(function(r,s){if(typeof define=="function"&&define.amd){define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,e,i,n,o){return s(r,t,e,i,n,o)})}else if(typeof exports=="object"){module.exports=s(r,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item"))}else{r.Outlayer=s(r,r.eventie,r.EventEmitter,r.getSize,r.fizzyUIUtils,r.Outlayer.Item)}})(window,function t(e,i,n,r,s,o){var a=e.console;var u=e.jQuery;var p=function(){};var f=0;var h={};function l(t,e){var i=s.getQueryElement(t);if(!i){if(a){a.error("Bad element for "+this.constructor.namespace+": "+(i||t))}return}this.element=i;if(u){this.$element=u(this.element)}this.options=s.extend({},this.constructor.defaults);this.option(e);var n=++f;this.element.outlayerGUID=n;h[n]=this;this._create();if(this.options.isInitLayout){this.layout()}}l.namespace="outlayer";l.Item=o;l.defaults={containerStyle:{position:"relative"},isInitLayout:true,isOriginLeft:true,isOriginTop:true,isResizeBound:true,isResizingContainer:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};s.extend(l.prototype,n.prototype);l.prototype.option=function(t){s.extend(this.options,t)};l.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);s.extend(this.element.style,this.options.containerStyle);if(this.options.isResizeBound){this.bindResize()}};l.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)};l.prototype._itemize=function(t){var e=this._filterFindItemElements(t);var i=this.constructor.Item;var n=[];for(var o=0,r=e.length;o<r;o++){var s=e[o];var a=new i(s,this);n.push(a)}return n};l.prototype._filterFindItemElements=function(t){return s.filterFindElements(t,this.options.itemSelector)};l.prototype.getItemElements=function(){var t=[];for(var e=0,i=this.items.length;e<i;e++){t.push(this.items[e].element)}return t};l.prototype.layout=function(){this._resetLayout();this._manageStamps();var t=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t);this._isLayoutInited=true};l.prototype._init=l.prototype.layout;l.prototype._resetLayout=function(){this.getSize()};l.prototype.getSize=function(){this.size=r(this.element)};l.prototype._getMeasurement=function(t,e){var i=this.options[t];var n;if(!i){this[t]=0}else{if(typeof i==="string"){n=this.element.querySelector(i)}else if(s.isElement(i)){n=i}this[t]=n?r(n)[e]:i}};l.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t);this._layoutItems(t,e);this._postLayout()};l.prototype._getItemsForLayout=function(t){var e=[];for(var i=0,n=t.length;i<n;i++){var o=t[i];if(!o.isIgnored){e.push(o)}}return e};l.prototype._layoutItems=function(t,e){this._emitCompleteOnItems("layout",t);if(!t||!t.length){return}var i=[];for(var n=0,o=t.length;n<o;n++){var r=t[n];var s=this._getItemLayoutPosition(r);s.item=r;s.isInstant=e||r.isLayoutInstant;i.push(s)}this._processLayoutQueue(i)};l.prototype._getItemLayoutPosition=function(){return{x:0,y:0}};l.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant)}};l.prototype._positionItem=function(t,e,i,n){if(n){t.goTo(e,i)}else{t.moveTo(e,i)}};l.prototype._postLayout=function(){this.resizeContainer()};l.prototype.resizeContainer=function(){if(!this.options.isResizingContainer){return}var t=this._getContainerSize();if(t){this._setContainerMeasure(t.width,true);this._setContainerMeasure(t.height,false)}};l.prototype._getContainerSize=p;l.prototype._setContainerMeasure=function(t,e){if(t===undefined){return}var i=this.size;if(i.isBorderBox){t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth}t=Math.max(t,0);this.element.style[e?"width":"height"]=t+"px"};l.prototype._emitCompleteOnItems=function(t,e){var i=this;function n(){i.emitEvent(t+"Complete",[e])}var o=e.length;if(!e||!o){n();return}var r=0;function s(){r++;if(r===o){n()}}for(var a=0,u=e.length;a<u;a++){var p=e[a];p.once(t,s)}};l.prototype.ignore=function(t){var e=this.getItem(t);if(e){e.isIgnored=true}};l.prototype.unignore=function(t){var e=this.getItem(t);if(e){delete e.isIgnored}};l.prototype.stamp=function(t){t=this._find(t);if(!t){return}this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;e<i;e++){var n=t[e];this.ignore(n)}};l.prototype.unstamp=function(t){t=this._find(t);if(!t){return}for(var e=0,i=t.length;e<i;e++){var n=t[e];s.removeFrom(this.stamps,n);this.unignore(n)}};l.prototype._find=function(t){if(!t){return}if(typeof t==="string"){t=this.element.querySelectorAll(t)}t=s.makeArray(t);return t};l.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();for(var t=0,e=this.stamps.length;t<e;t++){var i=this.stamps[t];this._manageStamp(i)}};l.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect();var e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}};l.prototype._manageStamp=p;l.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect();var i=this._boundingRect;var n=r(t);var o={left:e.left-i.left-n.marginLeft,top:e.top-i.top-n.marginTop,right:i.right-e.right-n.marginRight,bottom:i.bottom-e.bottom-n.marginBottom};return o};l.prototype.handleEvent=function(t){var e="on"+t.type;if(this[e]){this[e](t)}};l.prototype.bindResize=function(){if(this.isResizeBound){return}i.bind(e,"resize",this);this.isResizeBound=true};l.prototype.unbindResize=function(){if(this.isResizeBound){i.unbind(e,"resize",this)}this.isResizeBound=false};l.prototype.onresize=function(){if(this.resizeTimeout){clearTimeout(this.resizeTimeout)}var t=this;function e(){t.resize();delete t.resizeTimeout}this.resizeTimeout=setTimeout(e,100)};l.prototype.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return}this.layout()};l.prototype.needsResizeLayout=function(){var t=r(this.element);var e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth};l.prototype.addItems=function(t){var e=this._itemize(t);if(e.length){this.items=this.items.concat(e)}return e};l.prototype.appended=function(t){var e=this.addItems(t);if(!e.length){return}this.layoutItems(e,true);this.reveal(e)};l.prototype.prepended=function(t){var e=this._itemize(t);if(!e.length){return}var i=this.items.slice(0);this.items=e.concat(i);this._resetLayout();this._manageStamps();this.layoutItems(e,true);this.reveal(e);this.layoutItems(i)};l.prototype.reveal=function(t){this._emitCompleteOnItems("reveal",t);var e=t&&t.length;for(var i=0;e&&i<e;i++){var n=t[i];n.reveal()}};l.prototype.hide=function(t){this._emitCompleteOnItems("hide",t);var e=t&&t.length;for(var i=0;e&&i<e;i++){var n=t[i];n.hide()}};l.prototype.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)};l.prototype.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)};l.prototype.getItem=function(t){for(var e=0,i=this.items.length;e<i;e++){var n=this.items[e];if(n.element===t){return n}}};l.prototype.getItems=function(t){t=s.makeArray(t);var e=[];for(var i=0,n=t.length;i<n;i++){var o=t[i];var r=this.getItem(o);if(r){e.push(r)}}return e};l.prototype.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e);if(!e||!e.length){return}for(var i=0,n=e.length;i<n;i++){var o=e[i];o.remove();s.removeFrom(this.items,o)}};l.prototype.destroy=function(){var t=this.element.style;t.height="";t.position="";t.width="";for(var e=0,i=this.items.length;e<i;e++){var n=this.items[e];n.destroy()}this.unbindResize();var o=this.element.outlayerGUID;delete h[o];delete this.element.outlayerGUID;if(u){u.removeData(this.element,this.constructor.namespace)}};l.data=function(t){t=s.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&h[e]};l.create=function(t,e){function i(){l.apply(this,arguments)}if(Object.create){i.prototype=Object.create(l.prototype)}else{s.extend(i.prototype,l.prototype)}i.prototype.constructor=i;i.defaults=s.extend({},l.defaults);s.extend(i.defaults,e);i.prototype.settings={};i.namespace=t;i.data=l.data;i.Item=function t(){o.apply(this,arguments)};i.Item.prototype=new o;s.htmlInit(i,t);if(u&&u.bridget){u.bridget(t,i)}return i};l.Item=o;return l});(function(t,e){if(typeof define=="function"&&define.amd){define("isotope/js/item",["outlayer/outlayer"],e)}else if(typeof exports=="object"){module.exports=e(require("outlayer"))}else{t.Isotope=t.Isotope||{};t.Isotope.Item=e(t.Outlayer)}})(window,function t(e){function i(){e.Item.apply(this,arguments)}i.prototype=new e.Item;i.prototype._create=function(){this.id=this.layout.itemGUID++;e.Item.prototype._create.call(this);this.sortData={}};i.prototype.updateSortData=function(){if(this.isIgnored){return}this.sortData.id=this.id;this.sortData["original-order"]=this.id;this.sortData.random=Math.random();var t=this.layout.options.getSortData;var e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}};var n=i.prototype.destroy;i.prototype.destroy=function(){n.apply(this,arguments);this.css({display:""})};return i});(function(t,e){if(typeof define=="function"&&define.amd){define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e)}else if(typeof exports=="object"){module.exports=e(require("get-size"),require("outlayer"))}else{t.Isotope=t.Isotope||{};t.Isotope.LayoutMode=e(t.getSize,t.Outlayer)}})(window,function t(i,r){function s(t){this.isotope=t;if(t){this.options=t.options[this.namespace];this.element=t.element;this.items=t.filteredItems;this.size=t.size}}(function(){var t=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"];for(var e=0,i=t.length;e<i;e++){var n=t[e];s.prototype[n]=o(n)}function o(t){return function(){return r.prototype[t].apply(this.isotope,arguments)}}})();s.prototype.needsVerticalResizeLayout=function(){var t=i(this.isotope.element);var e=this.isotope.size&&t;return e&&t.innerHeight!=this.isotope.size.innerHeight};s.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)};s.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")};s.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")};s.prototype.getSegmentSize=function(t,e){var i=t+e;var n="outer"+e;this._getMeasurement(i,n);if(this[i]){return}var o=this.getFirstItemSize();this[i]=o&&o[n]||this.isotope.size["inner"+e]};s.prototype.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&i(t.element)};s.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)};s.prototype.getSize=function(){this.isotope.getSize();this.size=this.isotope.size};s.modes={};s.create=function(t,e){function i(){s.apply(this,arguments)}i.prototype=new s;if(e){i.options=e}i.prototype.namespace=t;s.modes[t]=i;return i};return s});(function(t,e){if(typeof define==="function"&&define.amd){define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],e)}else if(typeof exports==="object"){module.exports=e(require("outlayer"),require("get-size"),require("fizzy-ui-utils"))}else{t.Masonry=e(t.Outlayer,t.getSize,t.fizzyUIUtils)}})(window,function t(e,p,h){var i=e.create("masonry");i.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var t=this.cols;this.colYs=[];while(t--){this.colYs.push(0)}this.maxY=0};i.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var t=this.items[0];var e=t&&t.element;this.columnWidth=e&&p(e).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter;var n=this.containerWidth+this.gutter;var o=n/i;var r=i-n%i;var s=r&&r<1?"round":"floor";o=Math[s](o);this.cols=Math.max(o,1)};i.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element;var e=p(t);this.containerWidth=e&&e.innerWidth};i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth;var i=e&&e<1?"round":"ceil";var n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);var o=this._getColGroup(n);var r=Math.min.apply(Math,o);var s=h.indexOf(o,r);var a={x:this.columnWidth*s,y:r};var u=r+t.size.outerHeight;var p=this.cols+1-o.length;for(var f=0;f<p;f++){this.colYs[s+f]=u}return a};i.prototype._getColGroup=function(t){if(t<2){return this.colYs}var e=[];var i=this.cols+1-t;for(var n=0;n<i;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e};i.prototype._manageStamp=function(t){var e=p(t);var i=this._getElementOffset(t);var n=this.options.isOriginLeft?i.left:i.right;var o=n+e.outerWidth;var r=Math.floor(n/this.columnWidth);r=Math.max(0,r);var s=Math.floor(o/this.columnWidth);s-=o%this.columnWidth?0:1;s=Math.min(this.cols-1,s);var a=(this.options.isOriginTop?i.top:i.bottom)+e.outerHeight;for(var u=r;u<=s;u++){this.colYs[u]=Math.max(a,this.colYs[u])}};i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};if(this.options.isFitWidth){t.width=this._getContainerFitWidth()}return t};i.prototype._getContainerFitWidth=function(){var t=0;var e=this.cols;while(--e){if(this.colYs[e]!==0){break}t++}return(this.cols-t)*this.columnWidth-this.gutter};i.prototype.needsResizeLayout=function(){var t=this.containerWidth;this.getContainerWidth();return t!==this.containerWidth};return i});(function(t,e){if(typeof define=="function"&&define.amd){define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e)}else if(typeof exports=="object"){module.exports=e(require("../layout-mode"),require("masonry-layout"))}else{e(t.Isotope.LayoutMode,t.Masonry)}})(window,function t(e,i){function n(t,e){for(var i in e){t[i]=e[i]}return t}var o=e.create("masonry");var r=o.prototype._getElementOffset;var s=o.prototype.layout;var a=o.prototype._getMeasurement;n(o.prototype,i.prototype);o.prototype._getElementOffset=r;o.prototype.layout=s;o.prototype._getMeasurement=a;var u=o.prototype.measureColumns;o.prototype.measureColumns=function(){this.items=this.isotope.filteredItems;u.call(this)};var p=o.prototype._manageStamp;o.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft;this.options.isOriginTop=this.isotope.options.isOriginTop;p.apply(this,arguments)};return o});(function(t,e){if(typeof define=="function"&&define.amd){define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e)}else if(typeof exports=="object"){module.exports=e(require("../layout-mode"))}else{e(t.Isotope.LayoutMode)}})(window,function t(e){var i=e.create("fitRows");i.prototype._resetLayout=function(){this.x=0;this.y=0;this.maxY=0;this._getMeasurement("gutter","outerWidth")};i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter;var i=this.isotope.size.innerWidth+this.gutter;if(this.x!==0&&e+this.x>i){this.x=0;this.y=this.maxY}var n={x:this.x,y:this.y};this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight);this.x+=e;return n};i.prototype._getContainerSize=function(){return{height:this.maxY}};return i});(function(t,e){if(typeof define=="function"&&define.amd){define("isotope/js/layout-modes/vertical",["../layout-mode"],e)}else if(typeof exports=="object"){module.exports=e(require("../layout-mode"))}else{e(t.Isotope.LayoutMode)}})(window,function t(e){var i=e.create("vertical",{horizontalAlignment:0});i.prototype._resetLayout=function(){this.y=0};i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment;var i=this.y;this.y+=t.size.outerHeight;return{x:e,y:i}};i.prototype._getContainerSize=function(){return{height:this.y}};return i});(function(s,a){if(typeof define=="function"&&define.amd){define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(t,e,i,n,o,r){return a(s,t,e,i,n,o,r)})}else if(typeof exports=="object"){module.exports=a(s,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical"))}else{s.Isotope=a(s,s.Outlayer,s.getSize,s.matchesSelector,s.fizzyUIUtils,s.Isotope.Item,s.Isotope.LayoutMode)}})(window,function t(e,o,i,n,r,s,a){var u=e.jQuery;var p=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")};var f=document.documentElement;var h=f.textContent?function(t){return t.textContent}:function(t){return t.innerText};var l=o.create("isotope",{layoutMode:"masonry",isJQueryFiltering:true,sortAscending:true});l.Item=s;l.LayoutMode=a;l.prototype._create=function(){this.itemGUID=0;this._sorters={};this._getSorters();o.prototype._create.call(this);this.modes={};this.filteredItems=this.items;this.sortHistory=["original-order"];for(var t in a.modes){this._initLayoutMode(t)}};l.prototype.reloadItems=function(){this.itemGUID=0;o.prototype.reloadItems.call(this)};l.prototype._itemize=function(){var t=o.prototype._itemize.apply(this,arguments);for(var e=0,i=t.length;e<i;e++){var n=t[e];n.id=this.itemGUID++}this._updateItemsSortData(t);return t};l.prototype._initLayoutMode=function(t){var e=a.modes[t];var i=this.options[t]||{};this.options[t]=e.options?r.extend(e.options,i):i;this.modes[t]=new e(this)};l.prototype.layout=function(){if(!this._isLayoutInited&&this.options.isInitLayout){this.arrange();return}this._layout()};l.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout();this._manageStamps();this.layoutItems(this.filteredItems,t);this._isLayoutInited=true};l.prototype.arrange=function(t){this.option(t);this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches;var i=this;function n(){i.reveal(e.needReveal);i.hide(e.needHide)}this._bindArrangeComplete();if(this._isInstant){this._noTransition(n)}else{n()}this._sort();this._layout()};l.prototype._init=l.prototype.arrange;l.prototype._getIsInstant=function(){var t=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this._isInstant=t;return t};l.prototype._bindArrangeComplete=function(){var t,e,i;var n=this;function o(){if(t&&e&&i){n.emitEvent("arrangeComplete",[n.filteredItems])}}this.once("layoutComplete",function(){t=true;o()});this.once("hideComplete",function(){e=true;o()});this.once("revealComplete",function(){i=true;o()})};l.prototype._filter=function(t){var e=this.options.filter;e=e||"*";var i=[];var n=[];var o=[];var r=this._getFilterTest(e);for(var s=0,a=t.length;s<a;s++){var u=t[s];if(u.isIgnored){continue}var p=r(u);if(p){i.push(u)}if(p&&u.isHidden){n.push(u)}else if(!p&&!u.isHidden){o.push(u)}}return{matches:i,needReveal:n,needHide:o}};l.prototype._getFilterTest=function(e){if(u&&this.options.isJQueryFiltering){return function(t){return u(t.element).is(e)}}if(typeof e=="function"){return function(t){return e(t.element)}}return function(t){return n(t.element,e)}};l.prototype.updateSortData=function(t){var e;if(t){t=r.makeArray(t);e=this.getItems(t)}else{e=this.items}this._getSorters();this._updateItemsSortData(e)};l.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=d(i)}};l.prototype._updateItemsSortData=function(t){var e=t&&t.length;for(var i=0;e&&i<e;i++){var n=t[i];n.updateSortData()}};var d=function(){function t(t){if(typeof t!="string"){return t}var e=p(t).split(" ");var i=e[0];var n=i.match(/^\[(.+)\]$/);var o=n&&n[1];var r=a(o,i);var s=l.sortDataParsers[e[1]];t=s?function(t){return t&&s(r(t))}:function(t){return t&&r(t)};return t}function a(e,i){var t;if(e){t=function(t){return t.getAttribute(e)}}else{t=function(t){var e=t.querySelector(i);return e&&h(e)}}return t}return t}();l.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}};l.prototype._sort=function(){var t=this.options.sortBy;if(!t){return}var e=[].concat.apply(t,this.sortHistory);var i=c(e,this.options.sortAscending);this.filteredItems.sort(i);if(t!=this.sortHistory[0]){this.sortHistory.unshift(t)}};function c(f,h){return function t(e,i){for(var n=0,o=f.length;n<o;n++){var r=f[n];var s=e.sortData[r];var a=i.sortData[r];if(s>a||s<a){var u=h[r]!==undefined?h[r]:h;var p=u?1:-1;return(s>a?1:-1)*p}}return 0}}l.prototype._mode=function(){var t=this.options.layoutMode;var e=this.modes[t];if(!e){throw new Error("No layout mode: "+t)}e.options=this.options[t];return e};l.prototype._resetLayout=function(){o.prototype._resetLayout.call(this);this._mode()._resetLayout()};l.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)};l.prototype._manageStamp=function(t){this._mode()._manageStamp(t)};l.prototype._getContainerSize=function(){return this._mode()._getContainerSize()};l.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()};l.prototype.appended=function(t){var e=this.addItems(t);if(!e.length){return}var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)};l.prototype.prepended=function(t){var e=this._itemize(t);if(!e.length){return}this._resetLayout();this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems);this.filteredItems=i.concat(this.filteredItems);this.items=e.concat(this.items)};l.prototype._filterRevealAdded=function(t){var e=this._filter(t);this.hide(e.needHide);this.reveal(e.matches);this.layoutItems(e.matches,true);return e.matches};l.prototype.insert=function(t){var e=this.addItems(t);if(!e.length){return}var i,n;var o=e.length;for(i=0;i<o;i++){n=e[i];this.element.appendChild(n.element)}var r=this._filter(e).matches;for(i=0;i<o;i++){e[i].isLayoutInstant=true}this.arrange();for(i=0;i<o;i++){delete e[i].isLayoutInstant}this.reveal(r)};var y=l.prototype.remove;l.prototype.remove=function(t){t=r.makeArray(t);var e=this.getItems(t);y.call(this,t);var i=e&&e.length;if(!i){return}for(var n=0;n<i;n++){var o=e[n];r.removeFrom(this.filteredItems,o)}};l.prototype.shuffle=function(){for(var t=0,e=this.items.length;t<e;t++){var i=this.items[t];i.sortData.random=Math.random()}this.options.sortBy="random";this._sort();this._layout()};l.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.call(this);this.options.transitionDuration=e;return i};l.prototype.getFilteredItemElements=function(){var t=[];for(var e=0,i=this.filteredItems.length;e<i;e++){t.push(this.filteredItems[e].element)}return t};return l});